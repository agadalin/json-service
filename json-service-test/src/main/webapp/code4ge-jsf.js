/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

if(!dojo._hasResource["dojox.collections._base"]){dojo._hasResource["dojox.collections._base"]=true;dojo.provide("dojox.collections._base");dojox.collections.DictionaryEntry=function(k,v){this.key=k;this.value=v;this.valueOf=function(){return this.value;};this.toString=function(){return String(this.value);};};dojox.collections.Iterator=function(_1){var a=_1;var _2=0;this.element=a[_2]||null;this.atEnd=function(){return (_2>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_2++];return this.element;};this.map=function(fn,_3){return dojo.map(a,fn,_3);};this.reset=function(){_2=0;this.element=a[_2];};};dojox.collections.DictionaryIterator=function(_4){var a=[];var _5={};for(var p in _4){if(!_5[p]){a.push(_4[p]);}}var _6=0;this.element=a[_6]||null;this.atEnd=function(){return (_6>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_6++];return this.element;};this.map=function(fn,_7){return dojo.map(a,fn,_7);};this.reset=function(){_6=0;this.element=a[_6];};};}if(!dojo._hasResource["dojox.collections.ArrayList"]){dojo._hasResource["dojox.collections.ArrayList"]=true;dojo.provide("dojox.collections.ArrayList");dojox.collections.ArrayList=function(_8){var _9=[];if(_8){_9=_9.concat(_8);}this.count=_9.length;this.add=function(_a){_9.push(_a);this.count=_9.length;};this.addRange=function(a){if(a.getIterator){var e=a.getIterator();while(!e.atEnd()){this.add(e.get());}this.count=_9.length;}else{for(var i=0;i<a.length;i++){_9.push(a[i]);}this.count=_9.length;}};this.clear=function(){_9.splice(0,_9.length);this.count=0;};this.clone=function(){return new dojox.collections.ArrayList(_9);};this.contains=function(_b){for(var i=0;i<_9.length;i++){if(_9[i]==_b){return true;}}return false;};this.forEach=function(fn,_c){dojo.forEach(_9,fn,_c);};this.getIterator=function(){return new dojox.collections.Iterator(_9);};this.indexOf=function(_d){for(var i=0;i<_9.length;i++){if(_9[i]==_d){return i;}}return -1;};this.insert=function(i,_e){_9.splice(i,0,_e);this.count=_9.length;};this.item=function(i){return _9[i];};this.remove=function(_f){var i=this.indexOf(_f);if(i>=0){_9.splice(i,1);}this.count=_9.length;};this.removeAt=function(i){_9.splice(i,1);this.count=_9.length;};this.reverse=function(){_9.reverse();};this.sort=function(fn){if(fn){_9.sort(fn);}else{_9.sort();}};this.setByIndex=function(i,obj){_9[i]=obj;this.count=_9.length;};this.toArray=function(){return [].concat(_9);};this.toString=function(_10){return _9.join((_10||","));};};}if(!dojo._hasResource["code4ge.jsf.base"]){dojo._hasResource["code4ge.jsf.base"]=true;dojo.provide("code4ge.jsf.base");(function(){var c=code4ge;c.version={major:0,minor:5,revision:148,flag:"dev",toString:function(){with(c.version){return major+"."+minor+"."+revision+flag;}}};var pos=dojo.baseUrl.indexOf("/resources/");c.baseUrl=dojo.baseUrl.substring(0,pos);var pos=dojo.baseUrl.indexOf("/dojo/");c.resourcesUrl=dojo.baseUrl.substring(0,pos);c.topic={ready:"ready"};var _11=(function(){var t={},_12=[];t.add=function(_13,_14){_12.push({func:_13,order:_14||0});};t.run=function(){var al=new dojox.collections.ArrayList(_12);al.sort(function(a,b){return a.order-b.order;});al.forEach(function(_15){_15.func();});};return t;})();dojo.ready(function(){dojo.ready(function(){_11.add(function(){if(!dojo.hasClass(dojo.body(),"claro")){dojo.addClass(dojo.body(),"claro");}dojo.query(".displayOnReady").removeClass("displayOnReady");dojo.publish(c.topic.ready);},999);_11.run();});});c.ready=function(_16,_17){_11.add(_16,_17);};var _18={};c.set=function(_19,_1a){_18[_19.toLowerCase()]=_1a;};c.get=function(_1b){return _18[_1b.toLowerCase()];};c.has=function(_1c){return typeof (_18[_1c.toLowerCase()])!="undefined";};c.unset=function(_1d){delete _18[_1d.toLowerCase()];};})();}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_1e){this.pairs=[];this.returnWrappers=_1e||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_1f,_20,_21,_22,_23){this.pairs[((_23)?"unshift":"push")]([_1f,_20,_21,_22]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _24=this.pairs[i];if(_24[1].apply(this,arguments)){if((_24[3])||(this.returnWrappers)){return _24[2];}else{return _24[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_25){for(var i=0;i<this.pairs.length;i++){var _26=this.pairs[i];if(_26[0]==_25){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dojox.rpc.Service"]){dojo._hasResource["dojox.rpc.Service"]=true;dojo.provide("dojox.rpc.Service");dojo.declare("dojox.rpc.Service",null,{constructor:function(smd,_27){var url;var _28=this;function _29(smd){smd._baseUrl=new dojo._Url((dojo.isBrowser?location.href:dojo.config.baseUrl),url||".")+"";_28._smd=smd;for(var _2a in _28._smd.services){var _2b=_2a.split(".");var _2c=_28;for(var i=0;i<_2b.length-1;i++){_2c=_2c[_2b[i]]||(_2c[_2b[i]]={});}_2c[_2b[_2b.length-1]]=_28._generateService(_2a,_28._smd.services[_2a]);}};if(smd){if((dojo.isString(smd))||(smd instanceof dojo._Url)){if(smd instanceof dojo._Url){url=smd+"";}else{url=smd;}var _2d=dojo._getText(url);if(!_2d){throw new Error("Unable to load SMD from "+smd);}else{_29(dojo.fromJson(_2d));}}else{_29(smd);}}this._options=(_27?_27:{});this._requestId=0;},_generateService:function(_2e,_2f){if(this[_2f]){throw new Error("WARNING: "+_2e+" already exists for service. Unable to generate function");}_2f.name=_2e;var _30=dojo.hitch(this,"_executeMethod",_2f);var _31=dojox.rpc.transportRegistry.match(_2f.transport||this._smd.transport);if(_31.getExecutor){_30=_31.getExecutor(_30,_2f,this);}var _32=_2f.returns||(_2f._schema={});var _33="/"+_2e+"/";_32._service=_30;_30.servicePath=_33;_30._schema=_32;_30.id=dojox.rpc.Service._nextId++;return _30;},_getRequest:function(_34,_35){var smd=this._smd;var _36=dojox.rpc.envelopeRegistry.match(_34.envelope||smd.envelope||"NONE");var _37=(_34.parameters||[]).concat(smd.parameters||[]);if(_36.namedParams){if((_35.length==1)&&dojo.isObject(_35[0])){_35=_35[0];}else{var _38={};for(var i=0;i<_34.parameters.length;i++){if(typeof _35[i]!="undefined"||!_34.parameters[i].optional){_38[_34.parameters[i].name]=_35[i];}}_35=_38;}if(_34.strictParameters||smd.strictParameters){for(i in _35){var _39=false;for(var j=0;j<_37.length;j++){if(_37[i].name==i){_39=true;}}if(!_39){delete _35[i];}}}for(i=0;i<_37.length;i++){var _3a=_37[i];if(!_3a.optional&&_3a.name&&!_35[_3a.name]){if(_3a["default"]){_35[_3a.name]=_3a["default"];}else{if(!(_3a.name in _35)){throw new Error("Required parameter "+_3a.name+" was omitted");}}}}}else{if(_37&&_37[0]&&_37[0].name&&(_35.length==1)&&dojo.isObject(_35[0])){if(_36.namedParams===false){_35=dojox.rpc.toOrdered(_37,_35);}else{_35=_35[0];}}}if(dojo.isObject(this._options)){_35=dojo.mixin(_35,this._options);}var _3b=_34._schema||_34.returns;var _3c=_36.serialize.apply(this,[smd,_34,_35]);_3c._envDef=_36;var _3d=(_34.contentType||smd.contentType||_3c.contentType);return dojo.mixin(_3c,{sync:dojox.rpc._sync,contentType:_3d,headers:_34.headers||smd.headers||_3c.headers||{},target:_3c.target||dojox.rpc.getTarget(smd,_34),transport:_34.transport||smd.transport||_3c.transport,envelope:_34.envelope||smd.envelope||_3c.envelope,timeout:_34.timeout||smd.timeout,callbackParamName:_34.callbackParamName||smd.callbackParamName,rpcObjectParamName:_34.rpcObjectParamName||smd.rpcObjectParamName,schema:_3b,handleAs:_3c.handleAs||"auto",preventCache:_34.preventCache||smd.preventCache,frameDoc:this._options.frameDoc||undefined});},_executeMethod:function(_3e){var _3f=[];var i;for(i=1;i<arguments.length;i++){_3f.push(arguments[i]);}var _40=this._getRequest(_3e,_3f);var _41=dojox.rpc.transportRegistry.match(_40.transport).fire(_40);_41.addBoth(function(_42){return _40._envDef.deserialize.call(this,_42);});return _41;}});dojox.rpc.getTarget=function(smd,_43){var _44=smd._baseUrl;if(smd.target){_44=new dojo._Url(_44,smd.target)+"";}if(_43.target){_44=new dojo._Url(_44,_43.target)+"";}return _44;};dojox.rpc.toOrdered=function(_45,_46){if(dojo.isArray(_46)){return _46;}var _47=[];for(var i=0;i<_45.length;i++){_47.push(_46[_45[i].name]);}return _47;};dojox.rpc.transportRegistry=new dojo.AdapterRegistry(true);dojox.rpc.envelopeRegistry=new dojo.AdapterRegistry(true);dojox.rpc.envelopeRegistry.register("URL",function(str){return str=="URL";},{serialize:function(smd,_48,_49){var d=dojo.objectToQuery(_49);return {data:d,transport:"POST"};},deserialize:function(_4a){return _4a;},namedParams:true});dojox.rpc.envelopeRegistry.register("JSON",function(str){return str=="JSON";},{serialize:function(smd,_4b,_4c){var d=dojo.toJson(_4c);return {data:d,handleAs:"json",contentType:"application/json"};},deserialize:function(_4d){return _4d;}});dojox.rpc.envelopeRegistry.register("PATH",function(str){return str=="PATH";},{serialize:function(smd,_4e,_4f){var i;var _50=dojox.rpc.getTarget(smd,_4e);if(dojo.isArray(_4f)){for(i=0;i<_4f.length;i++){_50+="/"+_4f[i];}}else{for(i in _4f){_50+="/"+i+"/"+_4f[i];}}return {data:"",target:_50};},deserialize:function(_51){return _51;}});dojox.rpc.transportRegistry.register("POST",function(str){return str=="POST";},{fire:function(r){r.url=r.target;r.postData=r.data;return dojo.rawXhrPost(r);}});dojox.rpc.transportRegistry.register("GET",function(str){return str=="GET";},{fire:function(r){r.url=r.target+(r.data?"?"+((r.rpcObjectParamName)?r.rpcObjectParamName+"=":"")+r.data:"");return dojo.xhrGet(r);}});dojox.rpc.transportRegistry.register("JSONP",function(str){return str=="JSONP";},{fire:function(r){r.url=r.target+((r.target.indexOf("?")==-1)?"?":"&")+((r.rpcObjectParamName)?r.rpcObjectParamName+"=":"")+r.data;r.callbackParamName=r.callbackParamName||"callback";return dojo.io.script.get(r);}});dojox.rpc.Service._nextId=1;dojo._contentHandlers.auto=function(xhr){var _52=dojo._contentHandlers;var _53=xhr.getResponseHeader("Content-Type");var _54=!_53?_52.text(xhr):_53.match(/\/.*json/)?_52.json(xhr):_53.match(/\/javascript/)?_52.javascript(xhr):_53.match(/\/xml/)?_52.xml(xhr):_52.text(xhr);return _54;};}if(!dojo._hasResource["dojox.rpc.JsonRPC"]){dojo._hasResource["dojox.rpc.JsonRPC"]=true;dojo.provide("dojox.rpc.JsonRPC");function jsonRpcEnvelope(_55){return {serialize:function(smd,_56,_57,_58){var d={id:this._requestId++,method:_56.name,params:_57};if(_55){d.jsonrpc=_55;}return {data:dojo.toJson(d),handleAs:"json",contentType:"application/json",transport:"POST"};},deserialize:function(obj){if("Error"==obj.name){obj=dojo.fromJson(obj.responseText);}if(obj.error){var e=new Error(obj.error.message||obj.error);e._rpcErrorObject=obj.error;return e;}return obj.result;}};};dojox.rpc.envelopeRegistry.register("JSON-RPC-1.0",function(str){return str=="JSON-RPC-1.0";},dojo.mixin({namedParams:false},jsonRpcEnvelope()));dojox.rpc.envelopeRegistry.register("JSON-RPC-2.0",function(str){return str=="JSON-RPC-2.0";},jsonRpcEnvelope("2.0"));}if(!dojo._hasResource["code4ge.jsf.JsonRpc"]){dojo._hasResource["code4ge.jsf.JsonRpc"]=true;dojo.provide("code4ge.jsf.JsonRpc");dojo.declare("code4ge.jsf.JsonRpc",[dojox.rpc.Service],{sync:false,preamble:function(_59){if(!dojo.isString(_59)){this.sync=_59.sync||false;if(dojo.isObject(_59.smd)){dojo.mixin(_59.smd,{target:_59.url});}}return [_59.smd||_59.url||_59];},_getRequest:function(_5a,_5b){var _5c=this.inherited(arguments);_5c.sync=this.sync;return _5c;}});code4ge.jsf.JsonRpc.prototype.registry={map:{},add:function(_5d){var url=_5d.url||_5d;this.map[url]=new code4ge.jsf.JsonRpc({url:url,smd:_5d.smd,sync:_5d.sync||false});},get:function(_5e){var url=_5e.url||_5e;if(typeof (this.map[url])=="undefined"){this.add(_5e);}return this.map[url];}};code4ge.set("jsonrpc.registry",code4ge.jsf.JsonRpc.prototype.registry);}
